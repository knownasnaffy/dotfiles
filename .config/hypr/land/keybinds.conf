###################
### KEYBINDINGS ###
###################

# See https://wiki.hypr.land/Configuring/Keywords/
$mainMod = SUPER # Sets "Windows" key as main modifier

# Example binds, see https://wiki.hypr.land/Configuring/Binds/ for more
bind = $mainMod, return, exec, uwsm app -- $terminal # Open Terminal
bind = $mainMod, B, exec, uwsm app -- $browser # Open Browser

bind = $mainMod, Q, hy3:killactive, # Kill current window or node
bind = $mainMod, F, fullscreen, toggle # Toggle fullscreen

# bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod SHIFT, S, togglesplit, # dwindle, works only when windows are
# already split  FIXME: use a hy3 action to make this work with tabbed windows

# Reload hyprland and waybar
bind = $mainMod, G, exec, hyprctl reload; killall -SIGUSR2 waybar

# Floating windows
bind = $mainMod SHIFT, Space, togglefloating,
bind = $mainMod, Space, hy3:togglefocuslayer,


# Menus
bind = $mainMod, D, exec, $menu # App Launcher, Semi File Explorer, Window Switcher, etc

bind = $mainMod, I, exec, uwsm app -- $terminal --title=Impala -e impala # Wifi Management
bind = $mainMod SHIFT, I, exec, uwsm app -- $terminal --title=Bluetuith -e bluetuith # Bluetooth Management
# bind = $mainMod, M, exec, uwsm app -- $terminal --title=Aerc -e aerc # Email Client

bind = $mainMod, O, exec, ~/.config/rofi/scripts/powermenu_t1 # Shutdown, Logout, Lock
bind = $mainMod, P, exec, ~/.config/rofi/applets/bin/clipboard.sh # Clipboard
bind = $mainMod SHIFT, P, exec, ~/.config/rofi/applets/bin/pass.sh # Password and OTP
bind = $mainMod, S, exec, ~/.config/rofi/applets/bin/screenshot.sh # Screenshot
bind = $mainMod, R, exec, ~/.config/rofi/applets/bin/recordscreen.sh # Record Screen
bind = $mainMod, E, exec, ~/.config/rofi/applets/bin/emojipicker.sh # Emoji Picker

bind = $mainMod SHIFT, C, exec, ~/.config/rofi/applets/bin/colorpicker.sh # Color Picker (select format)
bind = $mainMod, C, exec, hyprpicker --autocopy # Color Picker (hex)

bind = $mainMod, N, exec, swaync-client -t -sw # Toggle Notification Panel
bind = $mainMod SHIFT, N, exec, pkill swaync && notify-send NotifiTest "You are a @$&%" && swaync-client -t -sw
bind = $mainMod SHIFT, M, exec, pkill swaync && notify-send NotifiTest "You are a @$&%"
bind = $mainMod, M, exec, notify-send NotifiTest "You are a @$&%"


# Move focus with mainMod + arrow keys
bind = $mainMod, left, hy3:movefocus, l
bind = $mainMod, right, hy3:movefocus, r
bind = $mainMod, up, hy3:movefocus, u
bind = $mainMod, down, hy3:movefocus, d

# Move focus with mainMod + vim movement keys
bind = $mainMod, J, hy3:movefocus, l
bind = $mainMod, semicolon, hy3:movefocus, r
bind = $mainMod, L, hy3:movefocus, u
bind = $mainMod, K, hy3:movefocus, d

# Move window with mainMod + shift + vim movement keys
bind = $mainMod SHIFT, J, hy3:movewindow, l
bind = $mainMod SHIFT, semicolon, hy3:movewindow, r
bind = $mainMod SHIFT, L, hy3:movewindow, u
bind = $mainMod SHIFT, K, hy3:movewindow, d

# Window grouping
bind = $mainMod, W, hy3:changegroup, toggletab # `hy3:makegroub, tab, toggle`
# crashes hyprland when there is only a single window left in the current
# workspace, `hy3:changegroup, toggletab` is a workaround for that
bind = $mainMod SHIFT, W, hy3:locktab, toggle
bind = $mainMod, a, hy3:changefocus, raise
bind = $mainMod SHIFT, a, hy3:changefocus, lower


# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, hy3:movetoworkspace, 1
bind = $mainMod SHIFT, 2, hy3:movetoworkspace, 2
bind = $mainMod SHIFT, 3, hy3:movetoworkspace, 3
bind = $mainMod SHIFT, 4, hy3:movetoworkspace, 4
bind = $mainMod SHIFT, 5, hy3:movetoworkspace, 5
bind = $mainMod SHIFT, 6, hy3:movetoworkspace, 6
bind = $mainMod SHIFT, 7, hy3:movetoworkspace, 7
bind = $mainMod SHIFT, 8, hy3:movetoworkspace, 8
bind = $mainMod SHIFT, 9, hy3:movetoworkspace, 9
bind = $mainMod SHIFT, 0, hy3:movetoworkspace, 10

# Example special workspace (scratchpad)
bind = $mainMod, grave, togglespecialworkspace, magic
bind = $mainMod SHIFT, grave, movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, period, workspace, e+1
bind = $mainMod, comma, workspace, e-1


# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow


# Laptop multimedia keys for volume and LCD brightness
bindel = ,XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
bindel = ,XF86AudioLowerVolume, exec, swayosd-client --output-volume lower
bindel = ,XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
bindel = ,XF86AudioMicMute, exec, swayosd-client --input-volume mute-toggle
bindel = ,XF86MonBrightnessUp, exec, swayosd-client --brightness raise
bindel = ,XF86MonBrightnessDown, exec, swayosd-client --brightness lower

# Requires playerctl
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

# Asus kbd backlight
bindl = , XF86Launch4, exec, asusctl aura -n


# Switch to a submap called `resize`.
bind = $mainMod SHIFT, R, submap, resize

# Start a submap called "resize".
submap = resize

# Set repeatable binds for resizing the active window.
binde = , right, resizeactive, 10 0
binde = , left, resizeactive, -10 0
binde = , up, resizeactive, 0 -10
binde = , down, resizeactive, 0 10

bind = , J, resizeactive, 10 0
bind = , semicolon, resizeactive, -10 0
bind = , L, resizeactive, 0 -10
bind = , K, resizeactive, 0 10

bind = SHIFT, J, resizeactive, 50 0
bind = SHIFT, semicolon, resizeactive, -50 0
bind = SHIFT, L, resizeactive, 0 -50
bind = SHIFT, K, resizeactive, 0 50

# Use `reset` to go back to the global submap
bind = , escape, submap, reset
bind = , q, submap, reset

# Reset the submap, which will return to the global submap
submap = reset


# Monitor profile switch: original scale (integer, X11-safe)
bind = $mainMod, F9, exec, hyprctl keyword monitor "eDP-1,1920x1080@144,0x0,1"

# For color pickers and stuff that require an opaque background
bind = $mainMod, F6, exec, hyprctl keyword decoration:active_opacity 1; hyprctl keyword decoration:inactive_opacity 1
